<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accesorios</title>
    <style>
        /* Existing styles remain the same */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(45deg, #ff80b5, #ff00b0, #ffb3d9, #ff80b5);
            background-size: 400% 400%;
            animation: gradientBG 5s ease infinite;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .btn-back-home {
            display: inline-block;
            margin: 10px;
            text-decoration: none;
            color: white;
            background-color: #ff4081;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .btn-back-home:hover {
            background-color: #ff1f7f;
            transform: scale(1.05);
        }

        header {
            background-color: #333;
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #cart-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
        }

        .cart-content {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            max-height: 70%;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }

        #cart-items {
            list-style-type: none;
            padding: 0;
        }

        #cart-items li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #eee;
        }

        #cart-items li:last-child {
            border-bottom: none;
        }

        .remove-item {
            background-color: #ff4081;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .remove-item:hover {
            background-color: #ff1f7f;
        }

        .cart-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid #ddd;
        }

        .close-cart {
            background-color: #333;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .close-cart:hover {
            background-color: #555;
        }

        .checkout-btn {
            background-color: #ff4081;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .checkout-btn:hover {
            background-color: #ff1f7f;
        }

        /* Existing product and other styles remain the same */
        main {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            padding: 20px;
        }

        .product {
            background-color: white;
            border: 1px solid #ddd;
            margin: 10px;
            padding: 15px;
            text-align: center;
            width: 250px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .product:hover {
            transform: translateY(-5px);
        }

        .product img {
            max-width: 100%;
            height: 250px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .product:hover img {
            transform: scale(1.05);
        }

        .product button, .product label {
            background-color: #ff4081;
            color: white;
            border: none;
            padding: 10px;
            margin: 5px;
            cursor: pointer;
            display: inline-block;
            border-radius: 5px;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .product button:hover, .product label:hover {
            background-color: #ff1f7f;
            transform: scale(1.05);
        }

        footer {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 10px;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>
<body>
<a id="regresar" href="index.html" class="btn-back-home">Regresar a Inicio</a>

<header>
    <h1>Accesorios</h1>
    <!-- Carrito -->
    <a id="cart-link" href="#" class="btn-back-home">Carrito (0)</a>
</header>

<!-- Cart Modal -->
<div id="cart-modal">
    <div class="cart-content">
        <div class="cart-header">
            <h2>Detalles del Carrito</h2>
            <button id="close-cart" class="close-cart">Cerrar</button>
        </div>
        <ul id="cart-items"></ul>
        <div class="cart-footer">
            <h3>Total: $<span id="total-price">0.00</span></h3>
            <button id="checkout-btn" class="checkout-btn">Ir a Pagar</button>
        </div>
    </div>
</div>

<main>
    <!-- Producto 1 -->
    <section class="product">
        <img src="mochila.jpg" alt="Mochila para portátil" class="animate">
        <h2>Mochila para portátil</h2>
        <p>Viaja cómodamente y con todo lo que necesitas en un mismo lugar.</p>
        <button class="add-to-cart" data-product="Mochila para portátil" data-price="999">Agregar al carrito</button>
       
    </section>

    <!-- Producto 2 -->
    <section class="product">
        <img src="cargador.jpg" alt="Cargador universal" class="animate">
        <h2>Cargador universal</h2>
        <p>Con este cargador olvídate de los demás.</p>
        <button class="add-to-cart" data-product="Cargador universal" data-price="2000">Agregar al carrito</button>
        
    </section>

    <!-- Producto 3 -->
    <section class="product">
        <img src="maus.jpg" alt="Mouse" class="animate">
        <h2>Mouse</h2>
        <p>Cómodo, ligero, completo.</p>
        <button class="add-to-cart" data-product="Mouse" data-price="500">Agregar al carrito</button>
       
    </section>

    <!-- Producto 4 -->
    <section class="product">
        <img src="soporte.jpg" alt="Soporte ajustable portátil" class="animate">
        <h2>Soporte ajustable portátil</h2>
        <p>Ajusta tu portátil en tu escritorio y trabaja más cómodo.</p>
        <button class="add-to-cart" data-product="Soporte ajustable portátil" data-price="300">Agregar al carrito</button>
        
    </section>
</main>

<footer>
    <p>© 2024 Accesorios</p>
</footer>

<script>
    // Cart Management
    const cartLink = document.getElementById('cart-link');
    const cartModal = document.getElementById('cart-modal');
    const closeCart = document.getElementById('close-cart');
    const cartItems = document.getElementById('cart-items');
    const totalPrice = document.getElementById('total-price');
    const checkoutBtn = document.getElementById('checkout-btn');
    let cart = [];

    // Add product to cart
    document.querySelectorAll('.add-to-cart').forEach(button => {
        button.addEventListener('click', function() {
            const productName = this.getAttribute('data-product');
            const productPrice = parseFloat(this.getAttribute('data-price'));
            
            // Check if product is already in cart
            const existingProduct = cart.find(item => item.name === productName);
            
            if (existingProduct) {
                existingProduct.quantity += 1;
            } else {
                cart.push({ 
                    name: productName, 
                    price: productPrice, 
                    quantity: 1 
                });
            }
            
            updateCart();
        });
    });

    // Update cart display
    function updateCart() {
        cartLink.textContent = `Carrito (${cart.reduce((total, item) => total + item.quantity, 0)})`;
        cartItems.innerHTML = '';
        let total = 0;

        cart.forEach((item, index) => {
            const li = document.createElement('li');
            
            // Create product details section
            const detailsSpan = document.createElement('span');
            detailsSpan.innerHTML = `${item.name} - $${item.price.toFixed(2)} x ${item.quantity}`;
            
            // Create remove button
            const removeButton = document.createElement('button');
            removeButton.textContent = 'Eliminar';
            removeButton.classList.add('remove-item');
            removeButton.addEventListener('click', () => {
                // If multiple items, decrease quantity
                if (item.quantity > 1) {
                    item.quantity -= 1;
                } else {
                    // If only one, remove from cart
                    cart.splice(index, 1);
                }
                updateCart();
            });

            // Append details and remove button to list item
            li.appendChild(detailsSpan);
            li.appendChild(removeButton);
            
            cartItems.appendChild(li);
            
            // Calculate total
            total += item.price * item.quantity;
        });

        // Update total price
        totalPrice.textContent = total.toFixed(2);
    }

    // Show cart modal
    cartLink.addEventListener('click', function(event) {
        event.preventDefault();
        cartModal.style.display = 'flex';
    });

    // Close cart modal
    closeCart.addEventListener('click', function() {
        cartModal.style.display = 'none';
    });

    // Checkout (currently just an alert)
    checkoutBtn.addEventListener('click', function() {
        if (cart.length === 0) {
            alert('El carrito está vacío');
            return;
        }
        alert('Gracias por tu compra!');
        cart = [];
        updateCart();
        cartModal.style.display = 'none';
    });

    // Close modal if clicking outside of it
    cartModal.addEventListener('click', function(event) {
        if (event.target === cartModal) {
            cartModal.style.display = 'none';
        }
    });
</script>
</body>
</html>